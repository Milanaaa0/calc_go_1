# calc_go

Этот проект представляет собой асинхронный калькулятор, который позволяет вычислять арифметические выражения. Основная особенность системы заключается в том, что вычисления выполняются асинхронно и могут быть распределены между несколькими вычислительными узлами (агентами)
Система состоит из двух основных компонентов:

Оркестратор (Сервер):

1.Принимает арифметические выражения от пользователей.
1.Разбивает выражение на отдельные задачи (например, 2 + 2, 4 * 3).
3.Управляет очередью задач и распределяет их между агентами.
4.Сохраняет результаты вычислений и предоставляет их пользователям по запросу.

Агент (Вычислитель):
1.Получает задачи от оркестратора.
2.Выполняет арифметические операции (сложение, вычитание, умножение, деление).
3.Отправляет результаты обратно оркестратору.

Чтобы запустить программу 
Скопируйте репозиторий git clone https://github.com/Milanaaa0/calc_go.git
напишите в терминал 
cd calc_go
go run ./cmd/main.go	Запуск оркестратора
COMPUTING_POWER=4 go run ./cmd/main.go	Запуск агента

После запуска сервера, вы увидите сообщение "Сервер запущен на порту 8080" в консоли, а затем сможете отправлять запросы и получать ответы.

Примеры 
скопируйте команду и вставьте ее в терминал

# Успешное вычисление(200)
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2 + 2 * 2"
}'

Получаем результат выражения по его ID (например, 1)
curl --location 'http://localhost:8080/api/v1/expressions/1'

Ожидаемый ответ:
{
    "expression": {
        "id": "1",
        "status": "done",
        "result": 6
    }
}
# Ошибка: Некорректное выражение(422)

curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2 + * 2"
}'

Ожидаемый ответ:
{
    "error": "Expression is not valid"
}
# Пытаемся получить результат для несуществующего ID,например 999  (404).

curl --location 'http://localhost:8080/api/v1/expressions/999'

Ожидаемый ответ:

{
    "error": "Expression not found"
}