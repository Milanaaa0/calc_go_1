# calc_go

Здравствуй! Для начала хочу поздравить с настпуающим Новым годом и пожелать всего самого хорошего в 2025

Представляю вашему вниманию этот гениальный калькулятор

В internal/application в файле application.go есть три основные структуры запроса ответа и ошибки в самом начале кода. Далее идет handler, который принимает запрос и проверяет POST ли этот запрос. Если нет, то возвращается ошибка. 

Идем дальше в pkg/calculation и calculation.go. Функция Calc -принимает выражение и возвращающает число или ошибку- считает наше выражение (очевидно, но я все равно это написала, пусть будет) Функция isValidParentheses проверяет, правильно ли расставлены скобки в выражении, которое вводит пользователь. infixToRPN преобразует математическое выражение из инфиксной нотации в обратную польскую нотацию (звучит сложно, но упрощает работу. Преимущество обратной польской нотации заключается в том, что она устраняет необходимость в круглых скобках). getPrecedence определяет приоритет выполнения операций. calculateRPN считает все в обратной польской нотации. calculateOperation считает выражение в зависимости от выбора.(тоже очевидно)

Самое интересное - функция main в файле main.go.  Она запускает HTTP-сервер, который обрабатывает POST-запросы на адрес `/api/v1/calculate`. calculateHandler будет вызвана при получении POST запроса(если будет какой то другой, то ошибка). 

Чтобы запустить программу 
1. Скопируйте репозиторий git clone https://github.com/Milanaaa0/calc_go.git
2. cd calc_go
3. В терминале запустите сервер go run main.go (у меня чтобы запустить нужно написать go run путь/до/main.go )
4. После запуска сервера, вы увидите сообщение "Сервер запущен на порту 8080" в консоли, а затем сможете отправлять запросы и получать ответы.

Примеры 
скопируйте команду и вставьте ее в терминал

# код, вызывающий ошибку 404
1. & "C:\Program Files\Git\mingw64\bin\curl.exe" -X POST http://localhost:8080/api/v1/nonexistent `
-H "Content-Type: application/json" `
-d '{"expression":"3 + 5"}'
# правильно работающий код
2. curl --location 'localhost:8080/api/v1/calculate' \

--header 'Content-Type: application/json' \

--data '{

"expression": "2+2*2"

}'
# код вызывающий ошибку 422
3. curl -X POST http://localhost:8080/api/v1/calculate \
-H "Content-Type: application/json" \
-d '{"expression": "3 + (5"}'  